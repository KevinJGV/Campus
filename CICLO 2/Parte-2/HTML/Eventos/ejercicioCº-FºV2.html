<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celsius - Farenh</title>
    <style>
        fieldset {
            display: flex;
        }
    </style>
</head>

<body>
    <main>
        <fieldset>
            <legend>Calculadora de Cº a Fº</legend>
            <label for="Celsius">Grados Centìgrados </label>
            <input type="text" name="Celsius" id="Celsius" onchange="banderaC()">
            <br>
            <label for="Farenheit">Grados Farenheit </label>
            <input type="text" name="Farenheit" id="Farenheit" onchange="banderaF()">
            <br>
            <button> Calcular </button>
        </fieldset>
    </main>
    <script defer>
        const d = document;
        // debugger
        const celsius = d.querySelector("#Celsius");
        const farenheit = d.querySelector("#Farenheit");
        const button = d.querySelector("button");
        let bandera;
        function banderaC() {
            bandera = "c";
        };
        function banderaF() {
            bandera = "f";
        };
        const calcular = () => {
            if (celsius.value === "" && farenheit.value === "") {
                farenheit.setAttribute("placeholder", "0.00");
                celsius.setAttribute("placeholder", "0.00");
            } else {
                if (bandera === "c") {
                    farenheit.value = "";
                    celsius.setAttribute("placeholder", "");
                    const calcFar = ((celsius.value * 9 / 5) + 32).toFixed(2);
                    farenheit.style.backgroundColor = "#71ff74";
                    farenheit.setAttribute("placeholder", calcFar);
                } else {
                    celsius.value = "";
                    farenheit.setAttribute("placeholder", "");
                    const calcCel = ((farenheit.value - 32) * 5 / 9).toFixed(2);
                    celsius.style.backgroundColor = "#71ff74";
                    celsius.setAttribute("placeholder", calcCel);
                };
            };
        };

        const focus = () => {
            if (bandera === "c") {
                celsius.style.backgroundColor = "#feff64";
                farenheit.style.backgroundColor = "#9dd2fd";
            } else {
                farenheit.style.backgroundColor = "#feff64";
                celsius.style.backgroundColor = "#9dd2fd";
            }
        }
        button.addEventListener("click", focus);
        button.addEventListener("click", calcular);
        celsius.addEventListener("focus", focus);
        celsius.addEventListener("blur", calcular);
        farenheit.addEventListener("focus", focus);
        farenheit.addEventListener("blur", calcular);
    </script>
</body>

</html>